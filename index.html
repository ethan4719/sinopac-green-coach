<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>éµéµæ­è¶´å°ç¦®å ‚</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #0c0f17;
    }

    /* æ‰‹æ©Ÿå¤–æ¡† */
    .phone {
      width: 390px;
      max-width: 100%;
      height: 844px;
      max-height: 100vh;
      border-radius: 36px;
      padding: 16px;
      background: linear-gradient(145deg, #1e1f2b, #151623);
      box-shadow:
        0 0 0 4px #000,
        0 20px 40px rgba(0,0,0,0.6);
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      color: #fff;
    }

    .phone-notch {
      width: 160px;
      height: 26px;
      background: #000;
      border-radius: 0 0 16px 16px;
      margin: 0 auto 12px auto;
    }

    .phone-inner {
      flex: 1;
      border-radius: 24px;
      position: relative;
      overflow: hidden;
      background: #fbe7c4;
    }

    /* å…©å€‹ç•«é¢å…±ç”¨ */
    .screen {
      position: absolute;
      inset: 0;
      padding: 18px 14px;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .screen.active {
      display: flex;
    }

    /* ========= æ­¡è¿ç•«é¢ï¼ˆé–€ç°¾ï¼‰ ========= */
    .screen-welcome {
      background: radial-gradient(circle at top, #f7d5a3 0, #fbe7c4 40%, #f2c48c 100%);
      color: #7a2c16;
    }

    .curtain {
      position: relative;
      width: 100%;
      max-width: 340px;
      height: 100%;
      max-height: 650px;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 10px 24px rgba(0,0,0,0.25);
      background: #fdf1dc;
    }

    .curtain-panel {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 60%;
      background: repeating-linear-gradient(
        135deg,
        #f2a365,
        #f2a365 12px,
        #fbe7c4 12px,
        #fbe7c4 24px
      );
      box-shadow: inset 0 0 20px rgba(0,0,0,0.25);
      transition: transform 0.9s ease;
      z-index: 2;
    }
    .curtain-panel.left {
      left: 0;
      border-right: 3px solid rgba(0,0,0,0.15);
      transform: translateX(0);
    }
    .curtain-panel.right {
      right: 0;
      border-left: 3px solid rgba(0,0,0,0.15);
      transform: translateX(0);
    }

    /* æ‰“é–‹æ™‚å¾€å¤–æ»‘ */
    .curtain-open-left {
      transform: translateX(-110%);
    }
    .curtain-open-right {
      transform: translateX(110%);
    }

    .curtain-content {
      position: relative;
      z-index: 1;
      height: 100%;
      padding: 22px 16px 18px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      background: radial-gradient(circle at top, rgba(255,255,255,0.9) 0, rgba(255,255,255,0) 55%);
    }

    .welcome-title {
      text-align: center;
      margin-top: 12px;
    }
    .welcome-title h1 {
      font-size: 22px;
      letter-spacing: 1px;
      text-shadow: 0 2px 4px rgba(255,255,255,0.8);
    }
    .welcome-title p {
      margin-top: 8px;
      font-size: 13px;
      opacity: 0.9;
    }

    .welcome-door-sign {
      margin-top: 28px;
      padding: 10px 16px;
      border-radius: 18px;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      text-align: center;
      border: 2px dashed #e28b4a;
    }
    .welcome-door-sign span.big {
      display: block;
      font-size: 18px;
      font-weight: 800;
    }
    .welcome-door-sign span.small {
      display: block;
      margin-top: 6px;
      font-size: 12px;
    }

    .goose-row {
      margin-top: 30px;
      display: flex;
      gap: 14px;
      font-size: 30px;
      justify-content: center;
      align-items: center;
    }
    .goose-row span {
      display: inline-block;
      animation: goose-bob 1s ease-in-out infinite alternate;
    }
    .goose-row span:nth-child(2) { animation-delay: 0.25s; }
    .goose-row span:nth-child(3) { animation-delay: 0.5s; }

    @keyframes goose-bob {
      from { transform: translateY(0); }
      to   { transform: translateY(-6px); }
    }

    .enter-tip {
      margin-top: 16px;
      font-size: 12px;
      text-align: center;
      opacity: 0.9;
    }

    .btn-enter {
      margin-top: 12px;
      padding: 11px 28px;
      border-radius: 26px;
      border: none;
      font-size: 15px;
      font-weight: 700;
      letter-spacing: 2px;
      background: linear-gradient(120deg, #ff7043, #ffb74d);
      color: #3e1b09;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(0,0,0,0.35);
      transition: transform 0.1s, box-shadow 0.1s, opacity 0.2s;
    }
    .btn-enter:active {
      transform: translateY(2px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    }

    .click-hint {
      margin-top: 6px;
      font-size: 12px;
      text-align: center;
      opacity: 0.9;
    }

    .welcome-footer {
      margin-top: 16px;
      font-size: 11px;
      opacity: 0.8;
      text-align: center;
    }

    /* ========= æŠ½çç•«é¢ ========= */
    .screen-lottery {
      background: #fbe7c4;
      color: #7a2c16;
      align-items: center;
      justify-content: flex-start;
    }

    .lottery-header {
      margin-top: 8px;
      text-align: center;
    }
    .lottery-header h2 {
      font-size: 20px;
      letter-spacing: 2px;
    }
    .lottery-header p {
      margin-top: 4px;
      font-size: 12px;
      opacity: 0.9;
    }

    .image-wrapper {
      flex: 1;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 12px;
      margin-bottom: 8px;
    }

    #prizeImage {
      max-width: 100%;
      max-height: 100%;
      border-radius: 20px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.25);
      object-fit: contain;
      opacity: 0;
      transition: opacity 0.4s ease;
      display: none;
    }
    #prizeImage.show {
      opacity: 1;
    }

    .placeholder {
      width: 100%;
      text-align: center;
      font-size: 14px;
      color: #7a2c16;
      line-height: 1.5;
    }

    .btn-draw {
      margin-top: 4px;
      padding: 12px 30px;
      border-radius: 30px;
      border: none;
      font-size: 16px;
      font-weight: 600;
      letter-spacing: 2px;
      text-transform: uppercase;
      background: linear-gradient(120deg, #ff7043, #ffb74d);
      box-shadow: 0 6px 16px rgba(0,0,0,0.5);
      color: #3e1b09;
      cursor: pointer;
      transition: transform 0.1s, box-shadow 0.1s, opacity 0.2s;
    }
    .btn-draw:active {
      transform: translateY(2px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.6);
    }
    .btn-draw:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .result-text {
      margin-top: 8px;
      text-align: center;
      font-size: 14px;
      color: #7a2c16;
      min-height: 46px;
    }
    .result-text span.main {
      font-size: 16px;
      font-weight: 700;
    }
    .result-text span.sub {
      display: block;
      font-size: 12px;
      margin-top: 4px;
      opacity: 0.9;
    }

    .footer-tip {
      margin-top: 6px;
      font-size: 11px;
      opacity: 0.8;
      text-align: center;
      color: #7a2c16;
    }

    @media (max-height: 700px) {
      .phone {
        height: 100vh;
      }
    }
  </style>
</head>
<body>
  <div class="phone">
    <div class="phone-notch"></div>
    <div class="phone-inner">

      <!-- æ­¡è¿é–€ç°¾ç•«é¢ -->
      <section id="screenWelcome" class="screen screen-welcome active">
        <div class="curtain">
          <div id="curtainLeft" class="curtain-panel left"></div>
          <div id="curtainRight" class="curtain-panel right"></div>

          <div class="curtain-content">
            <div class="welcome-title">
              <h1>æ­¡è¿ä¾†åˆ°éµéµæ­è¶´å°ç¦®å ‚</h1>
              <p>ä¸­èˆˆå¤§å­¸å­¸å‹™è™•æ­è¶´å°å¤©å ‚</p>
            </div>

            <div class="welcome-door-sign">
              <span class="big">æ­è¶´å°å¤©å ‚</span>
              <span class="small">
                é€™è£¡æœ‰èªçœŸè®€æ›¸ + ä¸€é»é»å¥½é‹ï¼Œ<br>
                å°±èƒ½è®“æ­è¶´ç³–é™è‡¨åœ¨ä½ æ‰‹ä¸Š âœ¨
              </span>
            </div>

            <div class="goose-row">
              <span>ğŸª¿</span><span>ğŸª¿</span><span>ğŸ¦†</span>
            </div>

            <p class="enter-tip">
              éµéµèªªï¼šã€Œæº–å‚™å¥½äº†å°±ä¸€èµ·é€²å»æŠ½æ­è¶´ç³–å§ï¼ã€
            </p>

            <button class="btn-enter" id="enterBtn">é€²å…¥æ­è¶´å°å¤©å ‚</button>
            <p class="click-hint">é»æ“Šé–‹å§‹é€²å…¥</p>

            <p class="welcome-footer">
              ä¸­èˆˆå¤§å­¸ å­¸å‹™è™• èª²å¤–çµ„ æ•¬ç¥<br>æœŸæœ«è€ƒé †åˆ©ã€å…¨ç§‘æ­è¶´ï¼
            </p>
          </div>
        </div>
      </section>

      <!-- æŠ½çç•«é¢ -->
      <section id="screenLottery" class="screen screen-lottery">
        <header class="lottery-header">
          <h2>æˆ‘çš„æ­è¶´ç³–æ˜¯â€¦ï¼Ÿ</h2>
          <p>æŒ‰ä¸‹æŒ‰éˆ•ï¼Œè®“é¤…ä¹¾è½‰ç›¤å¹«ä½ æ±ºå®šä»Šå¤©çš„å¹¸é‹æŒ‡æ•¸ ğŸª</p>
        </header>

        <main class="image-wrapper">
          <div id="placeholder" class="placeholder">
            é»æ“Šã€ŒæŠ½å‡ºæ­è¶´ç³–ã€å¾Œï¼Œ<br>
            æœƒå…ˆçœ‹åˆ°é¤…ä¹¾å€‘ç˜‹ç‹‚è¼ªæ’­ï¼Œ<br>
            ç„¶å¾Œåœåœ¨å±¬æ–¼ä½ çš„é‚£ä¸€ç›’ï¼
          </div>
          <img id="prizeImage" src="" alt="æ­è¶´ç³–">
        </main>

        <button class="btn-draw" id="drawBtn">æŠ½å‡ºæ­è¶´ç³–</button>

        <div class="result-text" id="resultText"></div>

        <p class="footer-tip">
          å­¸å‹™è™•èª²å¤–çµ„ èª æ‘¯ç¥ç¦å¤§å®¶æœŸæœ«é †åˆ©æ­è¶´ âœ¨
        </p>
      </section>

    </div>
  </div>

  <script>
    // ======== é–€ç°¾å‹•ç•«ï¼‹åˆ‡æ›ç•«é¢ ========
    const screenWelcome = document.getElementById('screenWelcome');
    const screenLottery = document.getElementById('screenLottery');
    const enterBtn      = document.getElementById('enterBtn');
    const curtainLeft   = document.getElementById('curtainLeft');
    const curtainRight  = document.getElementById('curtainRight');

    enterBtn.addEventListener('click', () => {
      // å…ˆæŠŠé–€ç°¾å¾€å¤–æ‹‰é–‹
      curtainLeft.classList.add('curtain-open-left');
      curtainRight.classList.add('curtain-open-right');

      // å†åˆ‡åˆ°æŠ½çç•«é¢
      setTimeout(() => {
        screenWelcome.classList.remove('active');
        screenLottery.classList.add('active');
      }, 950); // ç•¥å¤§æ–¼ CSS transition 0.9s
    });

    // ======== æŠ½çé‚è¼¯ï¼šå…ˆè¼ªæ’­ï¼Œå†æ±ºå®šçµæœ ========
    const drawBtn     = document.getElementById('drawBtn');
    const prizeImage  = document.getElementById('prizeImage');
    const resultText  = document.getElementById('resultText');
    const placeholder = document.getElementById('placeholder');

    // ä¾ç…§ä½ ç¾åœ¨ GitHub ä¸Šçš„æª”å
    const prizes = [
      { name: 'å°ç†Šé¤…ä¹¾ï¼ˆè—è‰²ï¼‰',  img: 'koala-blue.jpg.JPG'  },
      { name: 'å°ç†Šé¤…ä¹¾ï¼ˆé»‘è‰²ï¼‰',  img: 'koala- black.jpg.JPG' },
      { name: 'Pepero é¤…ä¹¾ï¼ˆè—è‰²ï¼‰', img: 'pepero-blue.jpg.JPG' },
      { name: 'Pepero é¤…ä¹¾ï¼ˆç™½è‰²ï¼‰', img: 'pepero-white.jpg.JPG' },
      { name: 'å†æŠ½ä¸€æ¬¡ å˜¿å˜¿å˜¿ ğŸ˜ˆ', img: null }
    ];

    // æä¾›è¼ªæ’­ç”¨çš„ã€Œæœ‰åœ–ç‰‡ã€çé …ï¼ˆä¸åŒ…å«å†æŠ½ä¸€æ¬¡ï¼‰
    const imagePrizes = prizes.filter(p => p.img);

    let drawing = false;
    let spinIntervalId = null;

    drawBtn.addEventListener('click', () => {
      if (drawing) return;
      drawing = true;
      drawBtn.disabled = true;

      resultText.innerHTML =
        '<span class="sub">è½‰ç›¤å•Ÿå‹•ä¸­â€¦ éµéµæ­£åœ¨å¹«ä½ ç¿»æ‰¾æ­è¶´ç³– ğŸª</span>';

      // é¡¯ç¤ºåœ–ç‰‡å€ï¼Œéš±è—æç¤ºæ–‡å­—
      placeholder.style.display = 'none';
      prizeImage.style.display = 'block';
      prizeImage.classList.remove('show');

      // å…ˆé–‹å§‹è¼ªæ’­å››ç¨®é¤…ä¹¾ï¼ˆåƒè½‰ç›¤ï¼‰
      let spinIndex = 0;
      spinIntervalId = setInterval(() => {
        const p = imagePrizes[spinIndex % imagePrizes.length];
        prizeImage.src = p.img;
        prizeImage.classList.add('show');
        spinIndex++;
      }, 120); // 120ms æ›ä¸€å¼µï¼Œçœ‹èµ·ä¾†åƒå¿«é€Ÿè½‰å‹•

      // è¨­å®šè½‰å‹•ç¸½æ™‚é–“ï¼Œä¹‹å¾Œåœä¸‹ä¾†æ±ºå®šçœŸæ­£çµæœ
      const spinDuration = 1800 + Math.random() * 700; // ç´„ 1.8~2.5 ç§’

      setTimeout(() => {
        clearInterval(spinIntervalId);

        const finalPrize = prizes[Math.floor(Math.random() * prizes.length)];

        if (finalPrize.img) {
          prizeImage.src = finalPrize.img;
          prizeImage.classList.add('show');
          resultText.innerHTML = `
            <span class="main">ä½ çš„æ­è¶´ç³–æ˜¯ï¼š${finalPrize.name}</span>
            <span class="sub">ç¥ä½ æœŸæœ«è€ƒå…¨éƒ¨é †åˆ©æ­è¶´ï¼</span>
          `;
        } else {
          prizeImage.style.display = 'none';
          placeholder.style.display = 'block';
          placeholder.innerHTML =
            'å˜¿å˜¿å˜¿ ğŸ˜ˆ<br>ä½ æŠ½åˆ°ã€Œå†æŠ½ä¸€æ¬¡ã€ï½<br>å†é»ä¸€æ¬¡æŒ‰éˆ•æŒ‘æˆ°å‘½é‹å§ï¼';

          resultText.innerHTML = `
            <span class="main">å†æŠ½ä¸€æ¬¡ å˜¿å˜¿å˜¿ ğŸ˜ˆ</span>
            <span class="sub">éµéµè¡¨ç¤ºï¼šå‘½é‹é‚„æ²’æ±ºå®šï¼Œå†ä¾†ä¸€æ¬¡ï¼</span>
          `;
        }

        drawBtn.disabled = false;
        drawing = false;
      }, spinDuration);
    });
  </script>
</body>
</html>
